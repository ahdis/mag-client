<div class="search-field mat-elevation-z2">
  <mat-icon>search</mat-icon>
  <input (keyup)="applyFilter($event.target.value)" placeholder="Search" />
</div>
<mat-table [dataSource]="dataSource">
  <ng-container matColumnDef="title">
    <mat-header-cell *matHeaderCellDef class="title"> Title </mat-header-cell>
    <mat-cell *matCellDef="let entry" class="title">
      <div class="cell-content">
        {{ (entry?.resource || entry).title }}
      </div>
    </mat-cell>
  </ng-container>
  <ng-container matColumnDef="publisher">
    <mat-header-cell *matHeaderCellDef>Publisher</mat-header-cell>
    <mat-cell *matCellDef="let entry">
      <div class="cell-content">
        {{ (entry?.resource || entry).publisher }}
      </div>
    </mat-cell>
  </ng-container>
  <ng-container matColumnDef="version">
    <mat-header-cell *matHeaderCellDef>Version</mat-header-cell>
    <mat-cell *matCellDef="let entry">
      <div class="cell-content">
        {{ (entry?.resource || entry).version }}
      </div>
    </mat-cell>
  </ng-container>
  <ng-container matColumnDef="status">
    <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
    <mat-cell *matCellDef="let entry">
      <div class="cell-content">
        {{ (entry?.resource || entry).status }}
      </div>
    </mat-cell>
  </ng-container>
  <ng-container matColumnDef="date">
    <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
    <mat-cell *matCellDef="let entry">
      <div class="cell-content">
        {{ (entry?.resource || entry).date }}
      </div>
    </mat-cell>
  </ng-container>
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row
    *matRowDef="let row; columns: displayedColumns"
    [routerLink]="row.id ? ['questionnaire', row.id] : null"
    (click)="!row.id ? openQuestionnaire(row) : null"
  ></mat-row>
</mat-table>
